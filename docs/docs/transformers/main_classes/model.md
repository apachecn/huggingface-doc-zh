# æ¥·æ¨¡

> è¯‘è€…ï¼š[ç‰‡åˆ»å°å“¥å“¥](https://github.com/jiangzhonglian)
>
> é¡¹ç›®åœ°å€ï¼š<https://huggingface.apachecn.org/docs/transformers/main_classes/model>
>
> åŸå§‹åœ°å€ï¼š<https://huggingface.co/docs/transformers/main_classes/model>


åŸºç±»
 [PreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel)
 ,
 [TFPreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.TFPreTrainedModel)
 ï¼Œ å’Œ
 [FlaxPreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.FlaxPreTrainedModel)
 å®ç°ä»æœ¬åœ°åŠ è½½/ä¿å­˜æ¨¡å‹çš„å¸¸ç”¨æ–¹æ³•
æ–‡ä»¶æˆ–ç›®å½•ï¼Œæˆ–æ¥è‡ªåº“æä¾›çš„é¢„è®­ç»ƒæ¨¡å‹é…ç½®ï¼ˆä» HuggingFace çš„ AWS ä¸‹è½½
S3 å­˜å‚¨åº“ï¼‰ã€‚


[PreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel)
 å’Œ
 [TFPreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.TFPreTrainedModel)
 è¿˜å®ç°äº†ä¸€äº›æ–¹æ³•
æ‰€æœ‰æ¨¡å‹çš„å…±åŒç‚¹æ˜¯ï¼š


* å½“æ–°æ ‡è®°æ·»åŠ åˆ°è¯æ±‡è¡¨æ—¶è°ƒæ•´è¾“å…¥æ ‡è®°åµŒå…¥çš„å¤§å°
* ä¿®å‰ªæ¨¡å‹çš„æ³¨æ„åŠ›å¤´ã€‚


æ¯ä¸ªæ¨¡å‹é€šç”¨çš„å…¶ä»–æ–¹æ³•å®šä¹‰åœ¨
 [ModuleUtilsMixin](/docs/transformers/v4.35.2/en/main_classes/model#transformers.modeling_utils.ModuleUtilsMixin)
 ï¼ˆå¯¹äº PyTorch æ¨¡å‹ï¼‰å’Œ
 `~modeling_tf_utils.TFModuleUtilsMixin`
 ï¼ˆå¯¹äº TensorFlow æ¨¡å‹ï¼‰æˆ–
å¯¹äºæ–‡æœ¬ç”Ÿæˆï¼Œ
 [GenerationMixin](/docs/transformers/v4.35.2/en/main_classes/text_ Generation#transformers.GenerationMixin)
 ï¼ˆå¯¹äº PyTorch æ¨¡å‹ï¼‰ï¼Œ
 [TFGenerationMixin](/docs/transformers/v4.35.2/en/main_classes/text_ Generation#transformers.TFGenerationMixin)
 ï¼ˆå¯¹äº TensorFlow æ¨¡å‹ï¼‰å’Œ
 [FlaxGenerationMixin](/docs/transformers/v4.35.2/en/main_classes/text_ Generation#transformers.FlaxGenerationMixin)
 ï¼ˆå¯¹äº Flax/JAX å‹å·ï¼‰ã€‚


## é¢„è®­ç»ƒæ¨¡å‹




### 


ç­çº§
 

 å˜å‹å™¨ã€‚
 

 é¢„è®­ç»ƒæ¨¡å‹


[<
 

 æ¥æº
 

 >](https://github.com/huggingface/transformers/blob/v4.35.2/src/transformers/modeling_utils.py#L1071)



 (
 


 é…ç½®
 
 ï¼šé¢„è®­ç»ƒé…ç½®


\*è¾“å…¥


 \*\*å¤¸æ ¼




 )
 


æ‰€æœ‰æ¨¡å‹çš„åŸºç±»ã€‚


[PreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel)
 è´Ÿè´£å­˜å‚¨æ¨¡å‹çš„é…ç½®å¹¶å¤„ç†åŠ è½½æ–¹æ³•ï¼Œ
ä¸‹è½½å’Œä¿å­˜æ¨¡å‹ä»¥åŠæ‰€æœ‰æ¨¡å‹é€šç”¨çš„ä¸€äº›æ–¹æ³•ï¼š


* è°ƒæ•´è¾“å…¥åµŒå…¥çš„å¤§å°ï¼Œ
* ä¿®å‰ªè‡ªæ³¨æ„åŠ›å¤´ä¸­çš„å¤´ã€‚


ç±»å±æ€§ï¼ˆè¢«æ´¾ç”Ÿç±»è¦†ç›–ï¼‰ï¼š


* **é…ç½®\_class**
 ï¼ˆ
 [PretrainedConfig](/docs/transformers/v4.35.2/en/main_classes/configuration#transformers.PretrainedConfig)
 ) â€” çš„å­ç±»
 [PretrainedConfig](/docs/transformers/v4.35.2/en/main_classes/configuration#transformers.PretrainedConfig)
 ç”¨ä½œé…ç½®ç±»
å¯¹äºè¿™ä¸ªæ¨¡å‹æ¶æ„ã€‚
* **åŠ è½½\_tf\_æƒé‡**
 ï¼ˆ
 `å¯è°ƒç”¨`
 ) â€” ä¸€æ¡èŸ’è›‡
 *æ–¹æ³•*
 ç”¨äºåœ¨ PyTorch æ¨¡å‹ä¸­åŠ è½½ TensorFlow æ£€æŸ¥ç‚¹ï¼Œ
ä»¥å‚æ•°ï¼š


+ **å‹å·**
ï¼ˆ
[PreTrainedModel](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel)
) â€” è¦åŠ è½½ TensorFlow æ£€æŸ¥ç‚¹çš„æ¨¡å‹å®ä¾‹ã€‚
+ **é…ç½®**
ï¼ˆ
`é¢„è®­ç»ƒé…ç½®`
) â€” ä¸æ¨¡å‹å…³è”çš„é…ç½®å®ä¾‹ã€‚
+ **è·¯å¾„**
ï¼ˆ
`str`
) â€” TensorFlow æ£€æŸ¥ç‚¹çš„è·¯å¾„ã€‚
* **åŸºç¡€\_æ¨¡å‹\_å‰ç¼€**
 ï¼ˆ
 `str`
 ) â€” ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡ç¤ºä¸æ´¾ç”Ÿä¸­çš„åŸºæœ¬æ¨¡å‹å…³è”çš„å±æ€§
ç›¸åŒæ¶æ„çš„ç±»åœ¨åŸºæœ¬æ¨¡å‹ä¹‹ä¸Šæ·»åŠ æ¨¡å—ã€‚
* **å¯å¹¶è¡ŒåŒ–**
 ï¼ˆ
 `å¸ƒå°”`
 ) â€” æŒ‡ç¤ºè¯¥æ¨¡å‹æ˜¯å¦æ”¯æŒæ¨¡å‹å¹¶è¡ŒåŒ–çš„æ ‡å¿—ã€‚
* **ä¸»\_è¾“å…¥\_åç§°**
 ï¼ˆ
 `str`
 ) â€” æ¨¡å‹ä¸»è¦è¾“å…¥çš„åç§°ï¼ˆé€šå¸¸
 `è¾“å…¥ID`
 è‡ªç„¶è¯­è¨€å¤„ç†
æ¥·æ¨¡ï¼Œ
 `åƒç´ å€¼`
 å¯¹äºè§†è§‰æ¨¡å‹å’Œ
 `è¾“å…¥å€¼`
 å¯¹äºè¯­éŸ³æ¨¡å‹ï¼‰ã€‚



#### 


æ¨é€\_åˆ°\_é›†çº¿å™¨


[<
 

 æ¥æº
 

 >](https://github.com/huggingface/transformers/blob/v4.35.2/src/transformers/utils/hub.py#L791)



 (
 


 ä»“åº“\_id
 
 : å­—ç¬¦ä¸²


ä½¿ç”¨\_temp\_dir
 
 : æ‰“å­—.Optional[bool] = None


æäº¤\_æ¶ˆæ¯
 
 : æ‰“å­—.å¯é€‰[str] =æ— 


ç§äººçš„
 
 : æ‰“å­—.Optional[bool] = None


ä»£å¸
 
 : æ‰“å­—.Union[bool, str, NoneType] = None


æœ€å¤§åˆ†ç‰‡å¤§å°
 
 : æ‰“å­—.Union[int, str, NoneType] = '5GB'


åˆ›å»º\_pr
 
 ï¼šå¸ƒå°”=å‡


å®‰å…¨\_åºåˆ—åŒ–
 
 ï¼šå¸ƒå°”=çœŸ


ä¿®è®¢
 
 ï¼šstr=æ— 


æäº¤\_æè¿°
 
 ï¼šstr=æ— 


\*\*å·²å¼ƒç”¨\_kwargs




 )
 


 å‚æ•°


* **ä»“åº“\_id**
 ï¼ˆ
 `str`
 )â€”
æ‚¨è¦å°†æ¨¡å‹æ¨é€åˆ°çš„å­˜å‚¨åº“çš„åç§°ã€‚å®ƒåº”åŒ…å«æ‚¨çš„ç»„ç»‡åç§°
å½“æ¨é€åˆ°ç»™å®šç»„ç»‡æ—¶ã€‚
* **ä½¿ç”¨\_temp\_dir**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 )â€”
æ˜¯å¦ä½¿ç”¨ä¸´æ—¶ç›®å½•æ¥å­˜å‚¨æ¨é€åˆ° Hub ä¹‹å‰ä¿å­˜çš„æ–‡ä»¶ã€‚
å°†é»˜è®¤ä¸º
 'çœŸå®'
 å¦‚æœæ²¡æœ‰ç±»ä¼¼åç§°çš„ç›®å½•
 `repo_id`
 ,
 â€˜å‡â€™
 å¦åˆ™ã€‚
* **æäº¤\_æ¶ˆæ¯**
 ï¼ˆ
 `str`
 ,
 *é€‰ä¿®çš„*
 )â€”
æ¨é€æ—¶è¦æäº¤çš„æ¶ˆæ¯ã€‚å°†é»˜è®¤ä¸º
 `â€œä¸Šä¼ æ¨¡å‹â€`
 ã€‚
* **ç§äººçš„**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 )â€”
åˆ›å»ºçš„å­˜å‚¨åº“æ˜¯å¦åº”è¯¥æ˜¯ç§æœ‰çš„ã€‚
* **ä»£å¸**
 ï¼ˆ
 `å¸ƒå°”`
 æˆ–è€…
 `str`
 ,
 *é€‰ä¿®çš„*
 )â€”
ç”¨ä½œè¿œç¨‹æ–‡ä»¶çš„ HTTP æ‰¿è½½æˆæƒçš„ä»¤ç‰Œã€‚å¦‚æœ
 'çœŸå®'
 ï¼Œå°†ä½¿ç”¨ç”Ÿæˆçš„ä»¤ç‰Œ
è·‘æ­¥æ—¶
 `huggingface-cli ç™»å½•`
 ï¼ˆå­˜å‚¨åœ¨
 `~/.huggingface`
 ï¼‰ã€‚å°†é»˜è®¤ä¸º
 'çœŸå®'
 å¦‚æœ
 `repo_url`
 æ²¡æœ‰æŒ‡å®šã€‚
* **æœ€å¤§\_åˆ†ç‰‡\_å¤§å°**
 ï¼ˆ
 `int`
 æˆ–è€…
 `str`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 `â€œ5GBâ€`
 )â€”
ä»…é€‚ç”¨äºå‹å·ã€‚åˆ†ç‰‡ä¹‹å‰æ£€æŸ¥ç‚¹çš„æœ€å¤§å¤§å°ã€‚æ£€æŸ¥ç‚¹åˆ†ç‰‡
é‚£ä¹ˆæ¯ä¸ªå°ºå¯¸éƒ½ä¼šå°äºè¿™ä¸ªå°ºå¯¸ã€‚å¦‚æœè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™åé¢éœ€è¦è·Ÿæ•°å­—
æŒ‰ä¸€ä¸ªå•ä½ï¼ˆä¾‹å¦‚
 `â€œ5MBâ€`
 ï¼‰ã€‚æˆ‘ä»¬é»˜è®¤ä¸º
 `â€œ5GBâ€`
 ä»¥ä¾¿ç”¨æˆ·å¯ä»¥è½»æ¾åœ°åœ¨å…è´¹å±‚ä¸ŠåŠ è½½æ¨¡å‹
Google Colab å®ä¾‹æ²¡æœ‰ä»»ä½• CPU OOM é—®é¢˜ã€‚
* **åˆ›å»º\_pr**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
æ˜¯å¦ä½¿ç”¨ä¸Šä¼ çš„æ–‡ä»¶åˆ›å»º PR æˆ–ç›´æ¥æäº¤ã€‚
* **å®‰å…¨\_åºåˆ—åŒ–**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 'çœŸå®'
 )â€”
æ˜¯å¦å°†æ¨¡å‹æƒé‡è½¬æ¢ä¸ºå®‰å…¨å¼ é‡æ ¼å¼ä»¥å®ç°æ›´å®‰å…¨çš„åºåˆ—åŒ–ã€‚
* **ä¿®è®¢**
 ï¼ˆ
 `str`
 ,
 *é€‰ä¿®çš„*
 )â€”
å°†ä¸Šä¼ çš„æ–‡ä»¶æ¨é€åˆ°çš„åˆ†æ”¯ã€‚
* **æäº¤\_æè¿°**
 ï¼ˆ
 `str`
 ,
 *é€‰ä¿®çš„*
 )â€”
å°†åˆ›å»ºçš„æäº¤çš„æè¿°


 å°†æ¨¡å‹æ–‡ä»¶ä¸Šä¼ åˆ°ğŸ¤—æ¨¡å‹ä¸­å¿ƒã€‚


 ä¾‹å­ï¼š



```
from transformers import AutoModel

model = AutoModel.from_pretrained("bert-base-cased")

# Push the model to your namespace with the name "my-finetuned-bert".
model.push_to_hub("my-finetuned-bert")

# Push the model to an organization with the name "my-finetuned-bert".
model.push_to_hub("huggingface/my-finetuned-bert")
```


#### 


å¯ä»¥\_ç”Ÿæˆ


[<
 

 æ¥æº
 

 >](https://github.com/huggingface/transformers/blob/v4.35.2/src/transformers/modeling_utils.py#L1234)


ï¼ˆ
 

 ï¼‰
 

 â†’


å¯¼å‡ºå¸¸é‡å…ƒæ•°æ®='æœªå®šä¹‰';
 

`å¸ƒå°”`


é€€è´§


å¯¼å‡ºå¸¸é‡å…ƒæ•°æ®='æœªå®šä¹‰';
 

`å¸ƒå°”`


å¯¼å‡ºå¸¸é‡å…ƒæ•°æ®='æœªå®šä¹‰';


è¯¥æ¨¡å‹æ˜¯å¦å¯ä»¥ç”Ÿæˆåºåˆ—
 `.generate()`
 ã€‚


è¿”å›è¯¥æ¨¡å‹æ˜¯å¦å¯ä»¥ç”Ÿæˆåºåˆ—
 `.generate()`
 ã€‚




#### 


ç¦ç”¨\_input\_require\_grads


[<
 

 æ¥æº
 

 >](https://github.com/huggingface/transformers/blob/v4.35.2/src/transformers/modeling_utils.py#L1337)


ï¼ˆ
 

 ï¼‰


åˆ é™¤
 `_require_grads_hook`
 ã€‚




#### 


å¯ç”¨\_è¾“å…¥\_éœ€è¦\_grads


[<
 

 æ¥æº
 

 >](https://github.com/huggingface/transformers/blob/v4.35.2/src/transformers/modeling_utils.py#L1326)


ï¼ˆ
 

 ï¼‰


å¯ç”¨è¾“å…¥åµŒå…¥çš„æ¸å˜ã€‚è¿™å¯¹äºå¾®è°ƒé€‚é…å™¨é‡é‡åŒæ—¶ä¿æŒ
æ¨¡å‹æƒé‡å›ºå®šã€‚




#### 


æ¥è‡ª\_é¢„è®­ç»ƒ


[<
 

 æ¥æº
 

 >](https://github.com/huggingface/transformers/blob/v4.35.2/src/transformers/modeling_utils.py#L2293)



 (
 


 é¢„è®­ç»ƒ\_model\_name\_or\_path
 
 : æ‰“å­—.Union[str, os.PathLike, NoneType]


\*æ¨¡å‹\_args


 é…ç½®
 
 : æ‰“å­—.Union[transformers.configuration\_utils.PretrainedConfig, str, os.PathLike, NoneType] = None


ç¼“å­˜\_dir
 
 : æ‰“å­—.Union[str, os.PathLike, NoneType] = None


å¿½ç•¥\_ä¸åŒ¹é…\_å°ºå¯¸
 
 ï¼šå¸ƒå°”=å‡


å¼ºåˆ¶\_ä¸‹è½½
 
 ï¼šå¸ƒå°”=å‡


ä»…æœ¬åœ°\_æ–‡ä»¶\_
 
 ï¼šå¸ƒå°”=å‡


ä»£å¸
 
 : æ‰“å­—.Union[str, bool, NoneType] = None


ä¿®è®¢
 
 : str = 'ä¸»'


ä½¿ç”¨\_safetensors
 
 : å¸ƒå°” = æ— 


\*\*å¤¸æ ¼




 )
 


 å‚æ•°


* **é¢„è®­ç»ƒ\_model\_name\_or\_path**
 ï¼ˆ
 `str`
 æˆ–è€…
 `os.PathLike`
 ,
 *é€‰ä¿®çš„*
 )â€”
å¯ä»¥æ˜¯ï¼š
 
+ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ
*å‹å·ç¼–å·*
æ‰˜ç®¡åœ¨ Huggingface.co ä¸Šçš„æ¨¡å‹å­˜å‚¨åº“å†…çš„é¢„è®­ç»ƒæ¨¡å‹ã€‚
æœ‰æ•ˆçš„æ¨¡å‹ ID å¯ä»¥ä½äºæ ¹çº§åˆ«ï¼Œä¾‹å¦‚
`bert-base-uncased`
ï¼Œæˆ–å‘½åç©ºé—´ä¸‹
ç”¨æˆ·æˆ–ç»„ç»‡åç§°ï¼Œä¾‹å¦‚
`dbmdz/bert-base-å¾·è¯­-å¤§å°å†™`
ã€‚
+ é€šå¾€açš„è·¯å¾„
*ç›®å½•*
åŒ…å«ä½¿ç”¨ä¿å­˜çš„æ¨¡å‹æƒé‡
[save\_pretrained()](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel.save_pretrained)
ï¼Œä¾‹å¦‚ï¼Œ
`./my_model_directory/`
ã€‚
+ è·¯å¾„æˆ– url
*å¼ é‡æµç´¢å¼•æ£€æŸ¥ç‚¹æ–‡ä»¶*
ï¼ˆä¾‹å¦‚ï¼Œ
`./tf_model/model.ckpt.index`
ï¼‰ã€‚åœ¨
è¿™ä¸ªæ¡ˆä¾‹ï¼Œ
`æ¥è‡ª_tf`
åº”è®¾ç½®ä¸º
'çœŸå®'
å¹¶ä¸”åº”è¯¥æä¾›ä¸€ä¸ªé…ç½®å¯¹è±¡
`é…ç½®`
äº‰è®ºã€‚æ­¤åŠ è½½è·¯å¾„æ¯”åœ¨ a ä¸­è½¬æ¢ TensorFlow æ£€æŸ¥ç‚¹è¦æ…¢
PyTorch æ¨¡å‹ä½¿ç”¨æä¾›çš„è½¬æ¢è„šæœ¬å¹¶éšååŠ è½½ PyTorch æ¨¡å‹ã€‚
+ åŒ…å«æ¨¡å‹æ–‡ä»¶å¤¹çš„è·¯å¾„æˆ– URL
*äºšéº»æ£€æŸ¥ç‚¹æ–‡ä»¶*
åœ¨
*.msgpack*
æ ¼å¼ï¼ˆä¾‹å¦‚ï¼Œ
`./flax_model/`
å«æœ‰
`flax_model.msgpack`
ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ
`from_flax`
åº”è®¾ç½®ä¸º
'çœŸå®'
ã€‚
+ `æ— `
å¦‚æœæ‚¨åŒæ—¶æä¾›é…ç½®å’ŒçŠ¶æ€å­—å…¸ï¼ˆåˆ†åˆ«ä½¿ç”¨å…³é”®å­—
è®ºç‚¹
`é…ç½®`
å’Œ
`state_dict`
ï¼‰ã€‚
* **æ¨¡å‹\_args**
 ï¼ˆä½ç½®å‚æ•°çš„åºåˆ—ï¼Œ
 *é€‰ä¿®çš„*
 )â€”
æ‰€æœ‰å‰©ä½™çš„ä½ç½®å‚æ•°å°†ä¼ é€’ç»™åº•å±‚æ¨¡å‹çš„
 `__init__`
 æ–¹æ³•ã€‚
* **é…ç½®**
 ï¼ˆ
 `Union[PretrainedConfig, str, os.PathLike]`
 ,
 *é€‰ä¿®çš„*
 )â€”
å¯ä»¥æ˜¯ï¼š
 
+ æ´¾ç”Ÿç±»çš„å®ä¾‹
[PretrainedConfig](/docs/transformers/v4.35.2/en/main_classes/configuration#transformers.PretrainedConfig)
,
+ ä½œä¸ºè¾“å…¥æœ‰æ•ˆçš„å­—ç¬¦ä¸²æˆ–è·¯å¾„
[æ¥è‡ª_pretrained()](/docs/transformers/v4.35.2/en/main_classes/configuration#transformers.PretrainedConfig.from_pretrained)
ã€‚

 æ¨¡å‹ä½¿ç”¨çš„é…ç½®ï¼Œè€Œä¸æ˜¯è‡ªåŠ¨åŠ è½½çš„é…ç½®ã€‚é…ç½®è¿˜å¯ä»¥
åœ¨ä»¥ä¸‹æƒ…å†µä¸‹è‡ªåŠ¨åŠ è½½ï¼š


+ è¯¥æ¨¡å‹æ˜¯åº“æä¾›çš„æ¨¡å‹ï¼ˆåŠ è½½äº†
*å‹å·ç¼–å·*
é¢„è®­ç»ƒçš„å­—ç¬¦ä¸²
æ¨¡å‹ï¼‰ã€‚
+ æ¨¡å‹ä¿å­˜ä½¿ç”¨
[save\_pretrained()](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel.save_pretrained)
å¹¶é€šè¿‡æä¾›é‡æ–°åŠ è½½
ä¿å­˜ç›®å½•ã€‚
+ é€šè¿‡æä¾›æœ¬åœ°ç›®å½•æ¥åŠ è½½æ¨¡å‹
`é¢„è®­ç»ƒæ¨¡å‹åç§°æˆ–è·¯å¾„`
å’Œä¸€ä¸ª
é…ç½® JSON æ–‡ä»¶åä¸º
*é…ç½®.json*
å¯ä»¥åœ¨ç›®å½•ä¸­æ‰¾åˆ°ã€‚
* **çŠ¶æ€\_dict**
 ï¼ˆ
 `å­—å…¸[str, torch.Tensor]`
 ,
 *é€‰ä¿®çš„*
 )â€”
ä½¿ç”¨çŠ¶æ€å­—å…¸ä»£æ›¿ä»ä¿å­˜çš„æƒé‡æ–‡ä»¶åŠ è½½çš„çŠ¶æ€å­—å…¸ã€‚
 
 å¦‚æœæ‚¨æƒ³ä»é¢„è®­ç»ƒé…ç½®åˆ›å»ºæ¨¡å‹ä½†åŠ è½½æ‚¨è‡ªå·±çš„æ¨¡å‹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹
é‡é‡ã€‚ä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åº”è¯¥æ£€æŸ¥æ˜¯å¦ä½¿ç”¨
 [save\_pretrained()](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel.save_pretrained)
 å’Œ
 [æ¥è‡ª\_pretrained()](/docs/transformers/v4.35.2/en/main_classes/model#transformers.PreTrainedModel.from_pretrained)
 è¿™ä¸æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„é€‰æ‹©ã€‚
* **ç¼“å­˜\_dir**
 ï¼ˆ
 `Union[str, os.PathLike]`
 ,
 *é€‰ä¿®çš„*
 )â€”
å¦‚æœæ˜¯ï¼Œåˆ™åº”ç¼“å­˜ä¸‹è½½çš„é¢„è®­ç»ƒæ¨¡å‹é…ç½®çš„ç›®å½•è·¯å¾„
ä¸åº”ä½¿ç”¨æ ‡å‡†ç¼“å­˜ã€‚
* **æ¥è‡ª\_tf**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
ä» TensorFlow æ£€æŸ¥ç‚¹ä¿å­˜æ–‡ä»¶åŠ è½½æ¨¡å‹æƒé‡ï¼ˆè¯·å‚é˜…æ–‡æ¡£å­—ç¬¦ä¸²
 `é¢„è®­ç»ƒæ¨¡å‹åç§°æˆ–è·¯å¾„`
 äº‰è®ºï¼‰ã€‚
* **æ¥è‡ª\_flax**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
ä» Flax æ£€æŸ¥ç‚¹ä¿å­˜æ–‡ä»¶åŠ è½½æ¨¡å‹æƒé‡ï¼ˆè¯·å‚é˜…æ–‡æ¡£å­—ç¬¦ä¸²
 `é¢„è®­ç»ƒæ¨¡å‹åç§°æˆ–è·¯å¾„`
 äº‰è®ºï¼‰ã€‚
* **å¿½ç•¥\_ä¸åŒ¹é…\_å°ºå¯¸**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
å¦‚æœæ£€æŸ¥ç‚¹çš„æŸäº›æƒé‡å¤§å°ä¸åŒï¼Œæ˜¯å¦å¼•å‘é”™è¯¯
ä½œä¸ºæ¨¡å‹çš„æƒé‡ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨å®ä¾‹åŒ–ä¸€ä¸ªå…·æœ‰ 10 ä¸ªæ ‡ç­¾çš„æ¨¡å‹ï¼‰
æœ‰ 3 ä¸ªæ ‡ç­¾çš„æ£€æŸ¥ç‚¹ï¼‰ã€‚
* **å¼ºåˆ¶\_ä¸‹è½½**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
æ˜¯å¦å¼ºåˆ¶ï¼ˆé‡æ–°ï¼‰ä¸‹è½½æ¨¡å‹æƒé‡å’Œé…ç½®æ–‡ä»¶ï¼Œè¦†ç›–
ç¼“å­˜ç‰ˆæœ¬ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚
* **ç»§ç»­\_ä¸‹è½½**
 ï¼ˆ
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
æ˜¯å¦åˆ é™¤æ¥æ”¶ä¸å®Œæ•´çš„æ–‡ä»¶ã€‚å¦‚æœå‡ºç°è¿™ç§æƒ…å†µï¼Œå°†å°è¯•æ¢å¤ä¸‹è½½
æ–‡ä»¶å·²å­˜åœ¨ã€‚
* **ä»£ç†**
 ï¼ˆ
 `å­—å…¸[str, str]`
 ,
 *é€‰ä¿®çš„*
 )â€”
ç”±åè®®æˆ–ç«¯ç‚¹ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨å­—å…¸ï¼Œä¾‹å¦‚ï¼Œ
 `{'http': 'foo.bar:3128', 'http://ä¸»æœºå': 'foo.bar:4012'}`
 ã€‚æ¯ä¸ªè¯·æ±‚éƒ½ä¼šä½¿ç”¨ä»£ç†ã€‚
* **è¾“å‡º\_åŠ è½½\_ä¿¡æ¯(
 `å¸ƒå°”`
 ,**
*é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
æ˜¯å¦è¿˜è¿”å›åŒ…å«ä¸¢å¤±é”®ã€æ„å¤–é”®å’Œé”™è¯¯æ¶ˆæ¯çš„å­—å…¸ã€‚
* **æœ¬åœ°\_æ–‡ä»¶\_only(
 `å¸ƒå°”`
 ,**
*é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 â€˜å‡â€™
 )â€”
æ˜¯å¦ä»…æŸ¥çœ‹æœ¬åœ°æ–‡ä»¶ï¼ˆå³ä¸å°è¯•ä¸‹è½½æ¨¡å‹ï¼‰ã€‚
* **ä»£å¸**
 ï¼ˆ
 `str`
 æˆ–è€…
 `å¸ƒå°”`
 ,
 *é€‰ä¿®çš„*
 )â€”
ç”¨ä½œè¿œç¨‹æ–‡ä»¶çš„ HTTP æ‰¿è½½æˆæƒçš„ä»¤ç‰Œã€‚å¦‚æœ
 'çœŸå®'
 ï¼Œæˆ–æœªæŒ‡å®šï¼Œå°†ä½¿ç”¨
è¿è¡Œæ—¶ç”Ÿæˆçš„token
 `huggingface-cli ç™»å½•`
 ï¼ˆå­˜å‚¨åœ¨
 `~/.huggingface`
 ï¼‰ã€‚
* **ä¿®è®¢**
 ï¼ˆ
 `str`
 ,
 *é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 `â€œä¸»è¦â€`
 )â€”
è¦ä½¿ç”¨çš„å…·ä½“å‹å·ç‰ˆæœ¬ã€‚å®ƒå¯ä»¥æ˜¯åˆ†æ”¯åç§°ã€æ ‡ç­¾åç§°æˆ–æäº¤ IDï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨
åŸºäº git çš„ç³»ç»Ÿï¼Œç”¨äºåœ¨ Huggingface.co ä¸Šå­˜å‚¨æ¨¡å‹å’Œå…¶ä»–å·¥ä»¶ï¼Œå› æ­¤
 `ä¿®è®¢`
 å¯ä»¥æ˜¯ä»»ä½•
git å…è®¸çš„æ ‡è¯†ç¬¦ã€‚
 

 è¦æµ‹è¯•æ‚¨åœ¨ Hub ä¸Šå‘å‡ºçš„æ‹‰å–è¯·æ±‚ï¼Œæ‚¨å¯ä»¥ä¼ é€’ `revision=â€refs/pr/
 
 â€ã€‚
* **é•œå­**
 ï¼ˆ
 `str`
 ,
 *é€‰ä¿®çš„*
 )â€”
é•œåƒæºåŠ é€Ÿä¸­å›½ä¸‹è½½ã€‚å¦‚æœæ‚¨æ¥è‡ªä¸­å›½å¹¶ä¸”å¯ä»¥è®¿é—®
é—®é¢˜ï¼Œæ‚¨å¯ä»¥è®¾ç½®æ­¤é€‰é¡¹æ¥è§£å†³å®ƒã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä¸ä¿è¯åŠæ—¶æ€§æˆ–å®‰å…¨æ€§ã€‚
è¯·å‚é˜…é•œåƒç«™ç‚¹ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚
* **\_fast\_init(
 `å¸ƒå°”`
 ,**
*é€‰ä¿®çš„*
 ï¼Œé»˜è®¤ä¸º
 'çœŸå®'
 )â€”
æ˜¯å¦ç¦ç”¨å¿«é€Ÿåˆå§‹åŒ–ã€‚
 

 åº”è¯¥åªç¦ç”¨
 *\_fast\_init*
 ä»¥ç¡®ä¿å‘åå…¼å®¹
 `å˜å½¢é‡‘åˆš.__ç‰ˆæœ¬__ < 4.6.0`
 ç”¨äºç§å­æ¨¡å‹åˆå§‹åŒ–ã€‚è¯¥å‚æ•°å°†åœ¨ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ä¸­åˆ é™¤ã€‚çœ‹
 [æ‹‰å–è¯·æ±‚ 11471](https://github.com/huggingface/transformers/pull/11471)
 äº†è§£æ›´å¤šä¿¡æ¯ã€‚


å¤§æ¨¡å‹æ¨ç†å‚æ•°